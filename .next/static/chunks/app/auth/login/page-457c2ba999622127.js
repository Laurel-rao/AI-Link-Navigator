(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{4505:(e,r,s)=>{Promise.resolve().then(s.bind(s,2792))},2792:(e,r,s)=>{"use strict";s.d(r,{LoginForm:()=>l});var t=s(5880),a=s(6292),n=s(6869),o=s(4289);function l(e){let{settings:r={}}=e,[s,l]=(0,a.useState)({username:"",password:""}),[i,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),h=(0,o.useRouter)(),m=async e=>{e.preventDefault(),d(""),u(!0);try{let e=await (0,n.signIn)("credentials",{username:s.username,password:s.password,redirect:!1});(null==e?void 0:e.error)?d(r.login_error_invalid||"用户名或密码错误"):(h.push("/"),h.refresh())}catch(e){d(r.login_error_network||"登录过程中发生错误，请稍后重试"),console.error("Login error:",e)}finally{u(!1)}},p=e=>{l({...s,[e.target.name]:e.target.value})};return(0,t.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsx)("input",{type:"text",name:"username",value:s.username,onChange:p,placeholder:r.login_username_placeholder||"请输入用户名",required:!0,className:"w-full glassmorphism-card rounded-xl pl-12 pr-4 py-4 text-white placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition duration-300"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,t.jsx)("input",{type:"password",name:"password",value:s.password,onChange:p,placeholder:r.login_password_placeholder||"请输入密码",required:!0,className:"w-full glassmorphism-card rounded-xl pl-12 pr-4 py-4 text-white placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition duration-300"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"w-full glassmorphism-card glassmorphism-hover px-6 py-4 rounded-xl text-white font-semibold transition duration-300 flex items-center justify-center group bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/30 hover:border-blue-400/50 disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.loading_text||"登录中..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-3 group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),r.login_submit_button||"立即登录"]})}),i&&(0,t.jsx)("div",{className:"glassmorphism-card border border-red-500/50 rounded-xl p-4 bg-red-500/10",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,t.jsx)("p",{className:"text-red-300 text-sm font-medium",children:i})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[250,132,27,358],()=>r(4505)),_N_E=e.O()}]);